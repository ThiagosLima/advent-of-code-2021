defmodule BinaryDiagnosticTest do
  use ExUnit.Case
  doctest BinaryDiagnostic

  test "CO2 scrubber rating" do
    report = [
      ["0", "0", "1", "0", "0"],
      ["1", "1", "1", "1", "0"],
      ["1", "0", "1", "1", "0"],
      ["1", "0", "1", "1", "1"],
      ["1", "0", "1", "0", "1"],
      ["0", "1", "1", "1", "1"],
      ["0", "0", "1", "1", "1"],
      ["1", "1", "1", "0", "0"],
      ["1", "0", "0", "0", "0"],
      ["1", "1", "0", "0", "1"],
      ["0", "0", "0", "1", "0"],
      ["0", "1", "0", "1", "0"]
    ]

    assert BinaryDiagnostic.co2_scrubber(report) == ["0", "1", "0", "1", "0"]
  end

  test "oxygen generator rating" do
    report = [
      ["0", "0", "1", "0", "0"],
      ["1", "1", "1", "1", "0"],
      ["1", "0", "1", "1", "0"],
      ["1", "0", "1", "1", "1"],
      ["1", "0", "1", "0", "1"],
      ["0", "1", "1", "1", "1"],
      ["0", "0", "1", "1", "1"],
      ["1", "1", "1", "0", "0"],
      ["1", "0", "0", "0", "0"],
      ["1", "1", "0", "0", "1"],
      ["0", "0", "0", "1", "0"],
      ["0", "1", "0", "1", "0"]
    ]

    assert BinaryDiagnostic.oxygen_generator(report) == ["1", "0", "1", "1", "1"]
  end

  test "power_consumption" do
    report = [
      ["0", "0", "1", "0", "0"],
      ["1", "1", "1", "1", "0"],
      ["1", "0", "1", "1", "0"],
      ["1", "0", "1", "1", "1"],
      ["1", "0", "1", "0", "1"],
      ["0", "1", "1", "1", "1"],
      ["0", "0", "1", "1", "1"],
      ["1", "1", "1", "0", "0"],
      ["1", "0", "0", "0", "0"],
      ["1", "1", "0", "0", "1"],
      ["0", "0", "0", "1", "0"],
      ["0", "1", "0", "1", "0"]
    ]

    assert BinaryDiagnostic.power_consumption(report) == 198
  end
end
